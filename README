Functional KV store with a twist around updates.
